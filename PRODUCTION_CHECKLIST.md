#!/bin/bash

echo "🚀 CONFIGURAÇÕES PARA PRODUÇÃO - GitHub OAuth"
echo "============================================="

echo ""
echo "📋 CHECKLIST PARA PRODUÇÃO:"
echo ""

echo "1. 🔧 GITHUB OAUTH APP (github.com/settings/applications):"
echo "   ✅ Criar nova OAuth App para produção"
echo "   ✅ Homepage URL: https://seudominio.com"
echo "   ✅ Authorization callback URL: https://api.seudominio.com/github/callback"
echo "   ✅ Obter Client ID e Client Secret de produção"
echo ""

echo "2. 🌐 VARIÁVEIS DE AMBIENTE (.env.production):"
echo "   BACKEND_URL=https://api.seudominio.com"
echo "   GITHUB_CLIENT_ID=seu_client_id_de_producao"
echo "   GITHUB_CLIENT_SECRET=seu_client_secret_de_producao"
echo "   JWT_SECRET=sua_chave_jwt_secreta_forte"
echo "   DATABASE_URL=sua_url_do_banco_de_producao"
echo ""

echo "3. 🔄 FRONTEND - URLs hardcoded a corrigir:"
echo "   ❌ Settings.js linha 149: http://localhost:3003/github/status"
echo "   ❌ Settings.js linha 352: http://localhost:3003/github/auth-url"
echo "   ❌ Settings.js linha 359: http://localhost:3003/github/callback"
echo "   ❌ Settings.js linha 435: http://localhost:3003/github/callback"
echo "   ❌ Settings.js linha 443: http://localhost:3003/github/callback"
echo "   ❌ Settings.js linha 490: http://localhost:3003/github/disconnect"
echo ""

echo "4. 🛡️ SEGURANÇA:"
echo "   ✅ HTTPS obrigatório em produção"
echo "   ✅ CORS configurado para domínio de produção"
echo "   ✅ Rate limiting implementado"
echo "   ✅ Logs de segurança ativados"
echo ""

echo "5. 🗄️ BANCO DE DADOS:"
echo "   ✅ PostgreSQL de produção configurado"
echo "   ✅ Migrations executadas"
echo "   ✅ Backup automático configurado"
echo ""

echo "6. 📦 DEPLOYMENT:"
echo "   ✅ Build de produção (npm run build)"
echo "   ✅ Servidor web configurado (Nginx/Apache)"
echo "   ✅ SSL/TLS certificado instalado"
echo "   ✅ Process manager (PM2) configurado"
echo ""

echo "🎯 PRÓXIMOS PASSOS:"
echo "1. Corrigir URLs hardcoded no Settings.js"
echo "2. Configurar variáveis de ambiente de produção"
echo "3. Criar OAuth App de produção no GitHub"
echo "4. Configurar domínio e SSL"
echo "5. Fazer deploy e testar"
